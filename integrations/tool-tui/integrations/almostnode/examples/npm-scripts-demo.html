<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>npm Scripts Demo â€” almostnode</title>
    <link rel="stylesheet" href="./shared-styles.css" />
    <style>
      .layout {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1px;
        background: var(--border);
        height: calc(100vh - 44px);
      }
      @media (max-width: 768px) {
        .layout {
          grid-template-columns: 1fr;
          grid-template-rows: 300px 1fr;
        }
      }
      .terminal-output {
        flex: 1;
        overflow-y: auto;
        padding: 12px;
        font-family: var(--mono, 'IBM Plex Mono', monospace);
        font-size: 0.82rem;
        line-height: 1.6;
        white-space: pre-wrap;
        word-break: break-all;
      }
      .terminal-output .cmd { color: #00ff88; }
      .terminal-output .stdout { color: #c0c0c0; }
      .terminal-output .stderr { color: #e74c3c; }
      .terminal-output .dim { color: #666; }
      .terminal-output .info { color: #3498db; }
      .terminal-input-row {
        display: flex;
        align-items: center;
        border-top: 1px solid var(--border);
        padding: 0 12px;
        gap: 8px;
        height: 40px;
        flex-shrink: 0;
      }
      .terminal-input-row .prompt {
        color: #00ff88;
        font-family: var(--mono, monospace);
        font-size: 0.82rem;
        user-select: none;
      }
      .terminal-input-row input {
        flex: 1;
        background: transparent;
        border: none;
        outline: none;
        color: #f0f0f0;
        font-family: var(--mono, monospace);
        font-size: 0.82rem;
        caret-color: #00ff88;
      }
      .hint-bar {
        padding: 8px 12px;
        font-size: 0.75rem;
        color: #666;
        border-top: 1px solid var(--border);
        flex-shrink: 0;
      }
      .hint-bar code {
        color: #888;
        background: rgba(255,255,255,0.05);
        padding: 1px 4px;
        border-radius: 3px;
      }
    </style>
  </head>
  <body>
    <div class="demo-topbar">
      <a href="../index.html" class="back">&larr; demos</a>
      <span class="sep">/</span>
      <a href="../index.html" class="logo">almostnode</a>
      <span class="sep">/</span>
      <span class="title">npm Scripts</span>
      <span class="tag">npm run &middot; package.json</span>
    </div>

    <div class="layout">
      <div class="panel">
        <div class="panel-header">
          <span class="panel-label">package.json</span>
          <div style="display:flex;align-items:center;gap:6px;">
            <div class="status-dot running" id="statusDot"></div>
            <span class="panel-label" id="status">Ready</span>
          </div>
        </div>
        <textarea id="pkgEditor">{
  "name": "my-app",
  "version": "1.0.0",
  "scripts": {
    "greet": "echo Hello from npm scripts!",
    "start": "node server.js",
    "prebuild": "echo Cleaning...",
    "build": "echo Building project...",
    "postbuild": "echo Build complete!",
    "test": "echo Running tests... && echo All tests passed!"
  }
}</textarea>
      </div>

      <div class="panel" style="display:flex;flex-direction:column;">
        <div class="panel-header">
          <span class="panel-label">Terminal</span>
        </div>
        <div id="terminalOutput" class="terminal-output"></div>
        <div class="terminal-input-row">
          <span class="prompt">$</span>
          <input type="text" id="terminalInput" placeholder="Type a command... (e.g. npm run build)" autofocus />
        </div>
        <div class="hint-bar">
          Try: <code>npm run build</code> <code>npm test</code> <code>npm start</code> <code>npm run</code> <code>ls /</code> <code>echo hello</code>
        </div>
      </div>
    </div>

    <script type="module" src="/src/npm-scripts-demo-entry.ts"></script>
  </body>
</html>
