[package]
name = "agent_ui"
version = "0.1.0"
edition.workspace = true
publish.workspace = true
license = "GPL-3.0-or-later"

[lints]
workspace = true

[lib]
path = "src/agent_ui.rs"
doctest = false

[features]
test-support = [
    "assistant_text_thread/test-support",
    "acp_thread/test-support",
    "eval_utils",
    "gpui/test-support",
    "language/test-support",
    "reqwest_client",
    "workspace/test-support",
    "agent/test-support",
]
unit-eval = []

[dependencies]
# Core AI dependencies (KEEP)
agent_settings = { path = "../agent_settings" }
language_model = { path = "../language_model" }
language_models = { path = "../language_models" }
assistant_text_thread = { path = "../assistant_text_thread" }
agent = { path = "../agent" }
context_server = { path = "../context_server" }
prompt_store = { path = "../prompt_store" }

# Essential utilities (KEEP)
anyhow = "1"
serde = { version = "1.0", features = ["derive"] }
serde_json = "1"
futures = "0.3"
log = "0.4"
chrono = "0.4"
uuid = { version = "1.0", features = ["v4", "serde"] }

# GPUI (KEEP - needed for UI)
gpui = { git = "https://github.com/zed-industries/zed" }

# Heavy workspace/editor deps (COMMENTED OUT - not needed for AI panel)
# editor.workspace = true
# workspace.workspace = true
# project.workspace = true
# multi_buffer.workspace = true
# buffer_diff.workspace = true
# lsp.workspace = true
# terminal.workspace = true
# terminal_view.workspace = true
# search.workspace = true
# picker.workspace = true
# file_icons.workspace = true
# command_palette_hooks.workspace = true
# extension.workspace = true
# extension_host.workspace = true
# task.workspace = true
# rope.workspace = true
# text.workspace = true

# Optional - can add back if needed
# collections.workspace = true
# util.workspace = true
# http_client.workspace = true
# db.workspace = true
# settings.workspace = true
# ui.workspace = true
# theme.workspace = true

[dev-dependencies]
acp_thread = { workspace = true, features = ["test-support"] }
agent = { workspace = true, features = ["test-support"] }
assistant_text_thread = { workspace = true, features = ["test-support"] }
buffer_diff = { workspace = true, features = ["test-support"] }
clock.workspace = true
db = { workspace = true, features = ["test-support"] }
editor = { workspace = true, features = ["test-support"] }
eval_utils.workspace = true
gpui = { workspace = true, "features" = ["test-support"] }
indoc.workspace = true
language = { workspace = true, "features" = ["test-support"] }
languages = { workspace = true, features = ["test-support"] }
language_model = { workspace = true, "features" = ["test-support"] }
pretty_assertions.workspace = true
project = { workspace = true, features = ["test-support"] }
recent_projects = { workspace = true, features = ["test-support"] }
remote_connection = { workspace = true, features = ["test-support"] }
title_bar = { workspace = true, features = ["test-support"] }
semver.workspace = true
reqwest_client.workspace = true
tempfile.workspace = true
tree-sitter-md.workspace = true
unindent.workspace = true
